<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Graphs in AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .content-section {
            @apply mb-12;
        }
        .content-section h2 {
            @apply text-3xl font-bold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2;
        }
        .content-section h3 {
            @apply text-2xl font-semibold text-gray-700 mb-4 mt-6;
        }
        .content-section p, .content-section ul {
            @apply text-gray-700 leading-relaxed text-lg mb-4;
        }
        .content-section ul {
            @apply list-disc list-inside pl-4;
        }
        .content-section li {
            @apply mb-2;
        }
        .highlight {
            @apply text-blue-600 font-semibold;
        }
        .badge {
            @apply inline-block bg-blue-100 text-blue-700 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded-full;
        }
        .card {
            @apply bg-white p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105;
        }
        .card-title {
            @apply text-xl font-bold text-gray-800 mb-3;
        }
        .card-text {
            @apply text-gray-600 text-base;
        }
        .ai-button {
            @apply mt-4 inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-md shadow-sm transition duration-150 ease-in-out;
        }
        .ai-button svg {
            @apply w-5 h-5 mr-2;
        }

        /* Modal Styles */
        .modal {
            @apply fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50;
        }
        .modal-content {
            @apply bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl mx-auto;
        }
        .modal-title {
            @apply text-2xl font-bold text-gray-800 mb-4;
        }
        .modal-body {
            @apply text-gray-700 leading-relaxed max-h-96 overflow-y-auto mb-6;
        }
        .modal-footer {
            @apply text-right;
        }
        .modal-close-btn {
            @apply px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-md shadow-sm transition duration-150 ease-in-out;
        }
        .loading-indicator {
            @apply hidden fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-lg shadow-xl z-50 text-center;
        }
        .spinner {
            @apply animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-3;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-12 shadow-md">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-5xl font-bold mb-4">Knowledge Graphs: Shaping the Future of AI</h1>
            <p class="text-xl text-indigo-100">Understanding Their Role and Significance in Artificial Intelligence Data Formats</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-16">
        <!-- Introduction Section -->
        <section class="content-section text-center mb-16">
            <p id="intro-text" class="text-xl text-gray-600 max-w-3xl mx-auto">
                While <span class="highlight">knowledge graphs</span> are a powerful and increasingly popular data format in AI, they aren't universally the "preferred" format for all applications. The ideal data format critically depends on the specific AI task, the nature of the data, and the system's objectives.
            </p>
            <button class="ai-button" onclick="explainSection('intro-text', 'Introduction to Knowledge Graphs')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- What are Knowledge Graphs? -->
        <section class="content-section card">
            <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-blue-600">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18.064M12.0001 5.94297M18.064 12.0001M5.94297 12.0001M16.1423 7.85784M7.85784 16.1423M16.1421 16.1421M7.85797 7.85797" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z" />
            </svg>What are Knowledge Graphs?</h2>
            <p id="what-are-kgs-text">
                Knowledge graphs represent data as a network of <span class="highlight">entities (nodes)</span> and their <span class="highlight">relationships (edges)</span>. This structure is often enriched with semantic meaning through <span class="highlight">ontologies</span>, which define the types of entities and relationships.
            </p>
            <div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
                <p class="text-blue-700"><span class="font-bold">Key Idea:</span> They model information like a connected web, making complex connections explicit and understandable for AI.</p>
            </div>
            <button class="ai-button" onclick="explainSection('what-are-kgs-text', 'What are Knowledge Graphs?')">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- Strengths of Knowledge Graphs -->
        <section id="strengths-section" class="content-section">
            <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-green-600">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>Strengths of Knowledge Graphs in AI</h2>
            <div id="strengths-text" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card">
                    <h3 class="card-title">Contextual Understanding</h3>
                    <p class="card-text">Excel at capturing complex relationships and context, crucial for AI systems to "understand" data rather than just process it.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Data Integration</h3>
                    <p class="card-text">Can integrate heterogeneous data from various sources (structured, unstructured, semi-structured) into a unified view.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Reasoning and Inference</h3>
                    <p class="card-text">Explicit relationships allow AI systems to infer new knowledge and insights not directly stated in the data.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Improved Machine Learning</h3>
                    <p class="card-text">Enhance ML models by providing richer features, reducing the need for massive labeled datasets, and improving explainability (e.g., in RAG for LLMs).</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Flexibility</h3>
                    <p class="card-text">Can be more flexible in their schema, allowing them to evolve as new information and data types become available.</p>
                </div>
            </div>
             <button class="ai-button" onclick="explainSection('strengths-text', 'Strengths of Knowledge Graphs')">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- Alternative Data Formats -->
        <section class="content-section">
            <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-purple-600">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
            </svg>Common Alternative Data Formats in AI</h2>
            <div id="alternatives-text">
                <p>AI utilizes a variety of data formats. Some common alternatives include:</p>
                <ul class="grid md:grid-cols-2 gap-x-8">
                    <li><span class="badge">Tabular Data</span> (e.g., CSV, Spreadsheets): For structured data in tasks like classification and regression.</li>
                    <li><span class="badge">Text Data</span> (e.g., Plain Text, JSON, XML): Essential for Natural Language Processing (NLP).</li>
                    <li><span class="badge">Numeric Data</span> (e.g., Arrays, Tensors): Fundamental for numerical computations in ML, especially deep learning.</li>
                    <li><span class="badge">Image, Video, Audio Data</span>: Specific formats for computer vision and speech recognition.</li>
                    <li><span class="badge">Vector Embeddings/Databases</span>: Represent data as dense vectors, enabling similarity searches and powering many modern AI applications.</li>
                </ul>
            </div>
            <button class="ai-button" onclick="explainSection('alternatives-text', 'Alternative Data Formats')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- When are KGs Preferred? -->
        <section class="content-section card bg-green-50 border border-green-200">
             <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-teal-600">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>When are Knowledge Graphs Preferred?</h2>
            <div id="preferred-text">
                <p>Knowledge graphs particularly shine in scenarios where:</p>
                <ul>
                    <li>Understanding <span class="highlight">relationships and context</span> is paramount.</li>
                    <li>Integrating diverse and <span class="highlight">complex datasets</span> is necessary.</li>
                    <li><span class="highlight">Reasoning and inference</span> capabilities are required.</li>
                    <li><span class="highlight">Explainability</span> of AI decisions is important.</li>
                    <li>Building sophisticated <span class="highlight">question-answering or recommendation</span> systems.</li>
                    <li>Enhancing LLM responses with <span class="highlight">structured, factual knowledge</span>.</li>
                </ul>
            </div>
             <button class="ai-button" onclick="explainSection('preferred-text', 'When are KGs Preferred?')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- Limitations of KGs -->
        <section class="content-section card bg-red-50 border border-red-200">
            <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-red-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
            </svg>Limitations of Knowledge Graphs</h2>
            <div id="limitations-text">
                <p>Despite their advantages, knowledge graphs also have limitations:</p>
                <ul class="list-disc list-inside space-y-2">
                    <li><span class="font-semibold">Complexity in Creation & Maintenance:</span> Can be time-consuming and resource-intensive.</li>
                    <li><span class="font-semibold">Scalability:</span> Managing extremely large-scale graphs can present performance challenges.</li>
                    <li><span class="font-semibold">Data Quality Dependency:</span> Accuracy heavily relies on input data quality and relationship definitions.</li>
                    <li><span class="font-semibold">Steeper Learning Curve:</span> Requires specialized skills for graph databases and query languages (e.g., SPARQL, Cypher).</li>
                    <li><span class="font-semibold">Handling Unstructured Data:</span> The extraction process to populate the graph from unstructured sources can be complex.</li>
                </ul>
            </div>
            <button class="ai-button" onclick="explainSection('limitations-text', 'Limitations of Knowledge Graphs')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>

        <!-- Ask AI Section -->
        <section class="content-section card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-purple-600">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-3.861 8.25-8.625 8.25S3.75 16.556 3.75 12s3.861-8.25 8.625-8.25S21 7.444 21 12Zm-2.625 0c0-3.472-2.684-6.25-6-6.25S6.375 8.528 6.375 12s2.684 6.25 6 6.25 6-2.778 6-6.25Z" />
                </svg>
                ✨ Ask AI About Knowledge Graphs
            </h2>
            <p>Have a specific question about knowledge graphs? Ask our AI assistant!</p>
            <div class="mt-4">
                <textarea id="ai-question-input" rows="3" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Type your question here..."></textarea>
                <button id="ask-ai-button" class="ai-button mt-2">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                    Ask AI
                </button>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="content-section text-center">
            <h2><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 inline-block mr-2 align-middle text-gray-700">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
            </svg>Conclusion</h2>
            <div id="conclusion-text">
                <p class="max-w-3xl mx-auto">
                    Knowledge graphs offer significant benefits for specific AI tasks that demand deep contextual understanding and reasoning. However, other formats like tabular data or vector embeddings remain highly relevant.
                    The trend is often towards <span class="highlight">hybrid approaches</span>, where knowledge graphs complement other data formats and AI techniques to build more robust and intelligent systems.
                </p>
            </div>
            <button class="ai-button" onclick="explainSection('conclusion-text', 'Conclusion')">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75l-1.25-1.75L13.75 12l1.25-1.75L17 8.5l1.25 1.75L20.25 12l-1.25 1.75zM9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" /></svg>
                ✨ Explain this Section with AI
            </button>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 text-center">
        <div class="container mx-auto px-6">
            <p>&copy; <span id="currentYear"></span> AI Data Formats Overview. All rights reserved.</p>
            <p class="text-sm mt-1">Information current as of June 2025.</p>
        </div>
    </footer>

    <!-- AI Response Modal -->
    <div id="aiResponseModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="modalTitle" class="modal-title">AI Explanation</h3>
            <div id="modalBody" class="modal-body whitespace-pre-wrap">
                <!-- AI response will be injected here -->
            </div>
            <p class="text-xs text-gray-500 mb-4"><i>AI-generated content. Please verify critical information.</i></p>
            <div class="modal-footer">
                <button id="modalCloseButton" class="modal-close-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator">
        <div class="spinner"></div>
        <p class="text-lg font-semibold text-blue-600">✨ AI is thinking...</p>
    </div>


    <script>
        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const aiResponseModal = document.getElementById('aiResponseModal');
        const modalTitleElem = document.getElementById('modalTitle');
        const modalBodyElem = document.getElementById('modalBody');
        const modalCloseButton = document.getElementById('modalCloseButton');
        const askAiButton = document.getElementById('ask-ai-button');
        const aiQuestionInput = document.getElementById('ai-question-input');
        const loadingIndicator = document.getElementById('loadingIndicator');

        // Close modal functionality
        modalCloseButton.onclick = () => {
            aiResponseModal.classList.add('hidden');
        };
        aiResponseModal.onclick = (event) => {
            if (event.target === aiResponseModal) { // Close if clicked outside content
                aiResponseModal.classList.add('hidden');
            }
        };

        function showLoading(isLoading) {
            if (isLoading) {
                loadingIndicator.classList.remove('hidden');
            } else {
                loadingIndicator.classList.add('hidden');
            }
        }

        function displayAIResponse(title, content) {
            modalTitleElem.textContent = title;
            modalBodyElem.textContent = content; // Using textContent to prevent XSS with HTML in response
            aiResponseModal.classList.remove('hidden');
        }
        
        // Generic function to call Gemini API
        async function callGeminiAPI(prompt) {
            showLoading(true);
            const apiKey = ""; // Left empty for Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                // Construct the payload for the Gemini API
                const payload = {
                    contents: [{
                        role: "user",
                        parts: [{ text: prompt }]
                    }],
                    generationConfig: {
                        temperature: 0.7, // Adjust for creativity vs. factuality
                        topK: 1,
                        topP: 1,
                        maxOutputTokens: 1024, // Max tokens for the response
                    }
                };
                
                // Make the API call
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Gemini API Error:', errorData);
                    throw new Error(`API request failed with status ${response.status}: ${errorData.error?.message || 'Unknown error'}`);
                }

                const result = await response.json();
                
                // Extract text from the API response
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error('Unexpected API response structure:', result);
                    return "Sorry, I couldn't get a valid response from the AI. The response format was unexpected.";
                }

            } catch (error) {
                console.error('Error calling Gemini API:', error);
                return `Sorry, an error occurred while contacting the AI: ${error.message}. Please check the console for more details.`;
            } finally {
                showLoading(false);
            }
        }

        // Function to explain a specific section
        window.explainSection = async function(sectionTextId, sectionTitle) {
            const sectionElement = document.getElementById(sectionTextId);
            if (!sectionElement) {
                console.error(`Element with ID ${sectionTextId} not found.`);
                displayAIResponse('Error', 'Could not find the content for this section.');
                return;
            }
            const sectionText = sectionElement.innerText || sectionElement.textContent; // Get text content
            const prompt = `You are an AI assistant. Please explain the following text about knowledge graphs in a clear, concise, and easy-to-understand manner. Focus on the key takeaways and use simple language. Keep the explanation to a few paragraphs. Text: "${sectionText}"`;
            
            const aiExplanation = await callGeminiAPI(prompt);
            displayAIResponse(`✨ AI Explanation: ${sectionTitle}`, aiExplanation);
        }

        // Event listener for the "Ask AI" button
        askAiButton.addEventListener('click', async () => {
            const userQuestion = aiQuestionInput.value.trim();
            if (!userQuestion) {
                displayAIResponse('Ask AI', 'Please enter a question.');
                return;
            }

            const prompt = `You are an AI assistant specializing in knowledge graphs and AI. Please answer the following question accurately and concisely: "${userQuestion}"`;
            
            const aiAnswer = await callGeminiAPI(prompt);
            displayAIResponse('✨ AI Answer', aiAnswer);
            aiQuestionInput.value = ''; // Clear input after asking
        });

    </script>
</body>
</html>
